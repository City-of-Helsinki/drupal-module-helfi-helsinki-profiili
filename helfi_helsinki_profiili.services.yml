services:
  helfi_helsinki_profiili.userdata:
    class: Drupal\helfi_helsinki_profiili\HelsinkiProfiiliUserData
    arguments: [ '@openid_connect.session', '@http_client', '@logger.factory', '@current_user', '@tempstore.private' ]

  helfi_helsinki_profiili.middleware:
    class: Drupal\helfi_helsinki_profiili\RegisterPageRedirectMiddleware
    arguments: [ '@messenger' ]
    tags:
      - { name: http_middleware, priority: 1000 }
